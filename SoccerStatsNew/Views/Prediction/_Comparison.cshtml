@model SoccerStatsData.RequestModels.PredictionRequestFiles.PredictionResponse

@{
    var labelPosition = ChartSeriesLabelsPosition.InsideEnd;
    var homeColour = "\\#E51AD6";
    var awayColour = "\\#1AE529";
}

<script id="tmplChartAtt" type="text/html">
    <partial name="_TeamLogos" model="@Model.Teams" />
    @(Html.Kendo().Chart()
             .Name("Attack")
                     .Title(title => title
                         .Text("Attack")
                         .Position(ChartTitlePosition.Bottom))
             .Legend(legend => legend
                 .Visible(true))
             .ChartArea(chart => chart
                 .Background("transparent"))
             .Series(series =>
             {
             series.Pie(new dynamic[] {
             new { category = "Home", value = Model.Comparison.Att.Home, color = homeColour },
             new { category = "Away", value = Model.Comparison.Att.Away, color = awayColour },
             })
             .Labels(labels => labels
                     .Position(labelPosition)
                     .Background("transparent")
                     .Visible(true)
             )
             .StartAngle(150);
         })
         .Tooltip(tooltip => tooltip
             .Visible(true)
             .Format("{0}"))
         .ToClientTemplate())
   
</script>

<script id="tmplChartDef" type="text/html">
    
    <partial name="_TeamLogos" model="@Model.Teams" />
    @(Html.Kendo().Chart()
                  .Name("def")
                          .Title(title => title
                              .Text("Defence")
                              .Position(ChartTitlePosition.Bottom))
                  .Legend(legend => legend
                      .Visible(true))
                  .ChartArea(chart => chart
                      .Background("transparent"))
                  .Series(series =>
                  {
                      series.Pie(new dynamic[] {
                                new { category = "Home", value = Model.Comparison.Def.Home, color = homeColour },
                                new { category = "Away", value = Model.Comparison.Def.Away, color = awayColour },
                  })
                      .Labels(labels => labels
                              .Position(labelPosition)
                              .Background("transparent")
                              .Visible(true))
                      .StartAngle(150);
                  })
              .Tooltip(tooltip => tooltip
                  .Visible(true)
                  .Format("{0}"))
              .ToClientTemplate())
</script>

<script id="tmplChartForm" type="text/html">
     <partial name="_TeamLogos" model="@Model.Teams" />
    @(Html.Kendo().Chart()
                        .Name("Form")
                                .Title(title => title
                                    .Text("Form")
                                    .Position(ChartTitlePosition.Bottom))
                        .Legend(legend => legend
                            .Visible(true))
                        .ChartArea(chart => chart
                            .Background("transparent"))
                        .Series(series =>
                        {
                            series.Pie(new dynamic[] {
                                       new { category = "Home", value = Model.Comparison.Form.Home, color = homeColour },
                                       new { category = "Away", value = Model.Comparison.Form.Away, color = awayColour },
                        })
                            .Labels(labels => labels
                                    .Position(labelPosition)
                                    .Background("transparent")
                                    .Visible(true))
                            .StartAngle(150);
                        })
                    .Tooltip(tooltip => tooltip
                        .Visible(true)
                        .Format("{0}"))
                    .ToClientTemplate())
</script>

<script id="tmplChartGoals" type="text/html">
    <partial name="_TeamLogos" model="@Model.Teams" />
    @(Html.Kendo().Chart()
                       .Name("Goals")
                               .Title(title => title
                                   .Text("Goals")
                                   .Position(ChartTitlePosition.Bottom))
                       .Legend(legend => legend
                           .Visible(true)
                       )
                       .ChartArea(chart => chart
                           .Background("transparent")
                        )
                       .Series(series =>
                       {
                           series.Pie(new dynamic[] {
                                      new { category = "Home", value = Model.Comparison.Goals.Home, color = homeColour },
                                      new { category = "Away", value = Model.Comparison.Goals.Away, color = awayColour },
                       })
                           .Labels(labels => labels
                                   .Position(labelPosition)
                                   .Background("transparent")
                                   .Visible(true))
                           .StartAngle(150);
                       })
                   .Tooltip(tooltip => tooltip
                       .Visible(true)
                       .Format("{0}"))
                   .ToClientTemplate())
</script>

<script id="tmplChartH2H" type="text/html">
     <partial name="_TeamLogos" model="@Model.Teams" />
    @(Html.Kendo().Chart()
                       .Name("H2H")
                               .Title(title => title
                                   .Text("Head to Head")
                                   .Position(ChartTitlePosition.Bottom))
                       .Legend(legend => legend
                           .Visible(true))
                       .ChartArea(chart => chart
                           .Background("transparent"))
                       .Series(series =>
                       {
                           series.Pie(new dynamic[] {
                                      new { category = "Home", value = Model.Comparison.HeadToHead.Home, color = homeColour },
                                      new { category = "Away", value = Model.Comparison.HeadToHead.Away, color = awayColour },
                       })
                           .Labels(labels => labels
                                   .Position(labelPosition)
                                   .Background("transparent")
                                   .Visible(true))
                           .StartAngle(150);
                       })
                   .Tooltip(tooltip => tooltip
                       .Visible(true)
                       .Format("{0}"))
                   .ToClientTemplate())
</script>

<script id="tmplChartPosDis" type="text/html">
     <partial name="_TeamLogos" model="@Model.Teams" />
    @(Html.Kendo().Chart()
                       .Name("PosDis")
                               .Title(title => title
                                       .Text("Poisson Distribution")
                                   .Position(ChartTitlePosition.Bottom))
                       .Legend(legend => legend
                           .Visible(true))
                       .ChartArea(chart => chart
                           .Background("transparent"))
                       .Series(series =>
                       {
                           series.Pie(new dynamic[] {
               new { category = "Home", value = Model.Comparison.PoissonDistribution.Home, color = homeColour },
               new { category = "Away", value = Model.Comparison.PoissonDistribution.Away, color = awayColour },
                       })
                           .Labels(labels => labels
                                   .Position(labelPosition)
                                   .Background("transparent")
                                   .Visible(true)
                           )
                           .StartAngle(150);
                       })
                   .Tooltip(tooltip => tooltip
                       .Visible(true)
                       .Format("{0}"))
                   .ToClientTemplate())
</script>

<script id="tmplChartTotal" type="text/html">
     <partial name="_TeamLogos" model="@Model.Teams" />
    @(Html.Kendo().Chart()
                           .Name("Total")
                                   .Title(title => title
                                           .Text("Total")
                                       .Position(ChartTitlePosition.Bottom))
                           .Legend(legend => legend
                               .Visible(true))
                           .ChartArea(chart => chart
                               .Background("transparent"))
                           .Series(series =>
                           {
                               series.Pie(new dynamic[] {
                                          new { category = "Home", value = Model.Comparison.Total.Home, color = homeColour },
                                          new { category = "Away", value = Model.Comparison.Total.Away, color = awayColour },
                           })
                               .Labels(labels => labels
                                       .Position(labelPosition)
                                       .Background("transparent")
                                       .Visible(true))
                               .StartAngle(150);
                           })
                       .Tooltip(tooltip => tooltip
                           .Visible(true)
                           .Format("{0}"))
                       .ToClientTemplate())
</script>

@(Html.Kendo().TileLayout()
                  .Name("PredictionTileLayout")
                  .Columns(3)
                  .Containers(c =>
                  {
                      c.Add().Header(h => h.Text("Attack"))
                             .ColSpan(1)
                             .RowSpan(1)
                             .BodyTemplateId("tmplChartAtt");

                      c.Add().Header(h => h.Text("Defence"))
                             .ColSpan(1)
                             .RowSpan(1)
                             .BodyTemplateId("tmplChartDef");

                      c.Add().Header(h => h.Text("Form"))
                             .ColSpan(1)
                             .RowSpan(1)
                             .BodyTemplateId("tmplChartForm");


                      c.Add().Header(h => h.Text("H2H"))
                             .ColSpan(1)
                             .RowSpan(1)
                             .BodyTemplateId("tmplChartH2H");

                      c.Add().Header(h => h.Text("Poisson Distribution"))
                             .ColSpan(1)
                             .RowSpan(1)
                             .BodyTemplateId("tmplChartPosDis");

                      c.Add().Header(h => h.Text("Total"))
                             .ColSpan(1)
                             .RowSpan(1)
                             .BodyTemplateId("tmplChartTotal");

                      c.Add().Header(h => h.Text("Goals"))
                      .ColSpan(1)
                      .RowSpan(1)
                      .BodyTemplateId("tmplChartGoals");
                      

                  })
                  .Reorderable(true)
                  .Resizable(true))

