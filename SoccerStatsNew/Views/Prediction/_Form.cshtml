@model SoccerStatsData.RequestModels.PredictionRequestFiles.Teams
@{
    var graphHeaderText = "Cards over the season";
    var tileLayoutTitle = "tilelayout";
}

<!-- container text templates -->
<script id="home-cards" type="text/html">
    <partial name="_CardsGraph" model="@Model.Home" />
</script>
<script id="away-cards" type="text/html">
    <partial name="_CardsGraph" model="@Model.Away" />
</script>



@(Html.Kendo().TileLayout()
        .Name(tileLayoutTitle)
        .Columns(6)
        .RowsHeight("500px")
        .Containers(c =>
        {
            c.Add().Header(h => h.Text(graphHeaderText))
            .BodyTemplateId("home-cards")
            .ColSpan(3).RowSpan(1);

            c.Add().Header(h => h.Text(graphHeaderText))
           .BodyTemplateId("away-cards")
           .ColSpan(3).RowSpan(1);

        })
        .Reorderable(true)
        .Resizable(true)
        .Events(e => e.Resize("onTileResize"))
        .Deferred(true)
    )

@section styles {
    <link rel="stylesheet" href="~/css/prediction.css" />
}

<script>
    function onTileResize(e) {
        if (e.container) {
            // for widgets that do not auto resize
            // https://docs.telerik.com/kendo-ui/styles-and-layout/using-kendo-in-responsive-web-pages
            kendo.resize(e.container, true);
        }
    }

    $(window).on("resize", () => {
        kendo.resize($(".k-chart, .k-grid"));
    });

    $(document).ready( () => {
        kendo.resize($("#tilelayout"));
        $(document).bind("kendo:skinChange", updateTheme);
    });

    function updateTheme() {
        var charts = $(".k-chart");
        $.each(charts, function (i, elem) {
            var theme = kendoTheme;

            if (/(default-|bootstrap-|material-|classic-|fluent-)/.test(kendoTheme)) {
                theme = "sass";
            }
            $(elem).getKendoChart().setOptions({ theme: theme });
        });
    }
</script> 

